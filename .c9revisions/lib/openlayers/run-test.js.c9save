{"revisions":[],"originalContent":"#!/usr/bin/env node\n// stolen from: http://trac.osgeo.org/openlayers/browser/trunk/openlayers/tests/node.js/run-test.js?rev=11551\n// Requires:\n/// 0. nodejs\n//  1. jsdom installed (npm install jsdom)\n//  2. A build profile with mockdom.js included in [first], and node.js\n//     included in [last], at ../../build/OpenLayers.js , like node-tests.js.\n//  3. Run with node run-tests.js\n//\n//  Missing: integration with a solid node.js testrunner.\nvar jsdom = require('jsdom');\njsdom.env('<html><body></body></html>', function(errors, window) {\n    for (var i in window) {\n        if (i == \"console\") {\n            continue;\n        }\n        eval(i+\"=window['\"+i+\"'];\");\n    }\n    OpenLayers = require(\"./lib/OpenLayers.js\").OpenLayers;\n    var map = new OpenLayers.Map(document.createElement(\"map\"));\n    map.addLayer(new OpenLayers.Layer(\"\", {isBaseLayer:true}));\n    map.setCenter(new OpenLayers.LonLat(-71,42), 10);\n    var px = map.getPixelFromLonLat(map.getLonLatFromPixel(new OpenLayers.Pixel(100,100)));\n    console.log(px);\n    px = map.getLonLatFromPixel(map.getPixelFromLonLat(new OpenLayers.LonLat(10,10)));\n    console.log(px);\n\n});\n"}